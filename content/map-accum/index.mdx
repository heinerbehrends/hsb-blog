---
title: Ramda's mapAccum function
date: "2022-02-01T09:12:03.284Z"
description: "An introduction to ramda's mapAccum function with some examples on how to use it."
ogimage: https://www.heinerbehrends.eu/og-map-accum.png
---

import CodeBlock from "../../src/components/codeBlock.tsx"

[Ramdajs](https://ramdajs.com/) is JavaScript library for functional programming.
Ramda makes it easy to create _functional pipelines_, where the output of one function
is _piped_ into the input of the next. Ramda allows you to write complex logic by
combining simple functions.

## The missing child of map and reduce

Ramda functions never mutate data so you won't have to think about shared mutable state and all
functions are free from side-effects They don't interact with any state outside of the function.
This makes the code predictable and easier to understand. Most JavaScript developers are familiar
with the build-in array methods map and reduce.
[Ramda's mapAccum function](https://ramdajs.com/docs/#mapAccum) is closely related to them.
It is like reduce in that it outputs an accumulator, a value that is updated by each item
in the array. And similar to map it outputs all the intermediate value of the accumulator
in an array.

## Code examples

Ramdas map and reduce functions are not part of the array prototype.
Instead they accept the array as the last argument.

<CodeBlock language="js">{`
  const integers = [1, 2, 3, 4];
const addOne = value => value + 1;
map(addOne, integers) // [1 + 1, 2 + 1, 3 + 1, 4 + 1] => [2, 3, 4, 5]
const addToAcc = (value, acc) => value + acc;
reduce(addToAcc, 0, integers) // 0 + 1 + 2 + 3 + 4 => 10
`}</CodeBlock>

Ramdas mapAccum function accepts a function that takes a value and accumulator and
outputs a tuple of value and accumulator. mapAccum outputs a tuple of the calculated
value and an array of the _intermediate values of the accumulator_.

<CodeBlock language="js">{`
  const integers = [1, 2, 3, 4];
const mapAccumFn = (value, acc) => [value + acc, acc];
mapAccum(mapAccumFn, 0, integers); // [10, [0, 1, 3, 6]]
`}</CodeBlock>

You can play around with these functions in the [Ramda playground](https://ramdajs.com/repl/#?const%20integers%20%3D%20%5B1%2C%202%2C%203%2C%204%5D%3B%0A%0Aconst%20plusOne%20%3D%20value%20%3D%3E%20value%20%2B%201%3B%0Amap%28plusOne%2C%20integers%29%0A%0Aconst%20addToAcc%20%3D%20%28value%2C%20acc%29%20%3D%3E%20value%20%2B%20acc%3B%0Areduce%28addToAcc%2C%200%2C%20integers%29%0A%0Aconst%20addToAccMap%20%3D%20%28value%2C%20acc%29%20%3D%3E%20%5Bacc%20%2B%20value%2C%20acc%5D%0AmapAccum%28addToAccMap%2C%200%2C%20integers%29).
